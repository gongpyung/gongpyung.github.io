<!DOCTYPE html>
<html lang="{{ .Site.Language.Lang }}" {{ if not (eq .Site.Language.Lang "en") }}dir="ltr"{{ end }}>
<head>
  {{- partial "head.html" . -}}
  {{- partial "head/custom.html" . -}}
</head>
<body>
  <div class="layout">
    {{- partial "header.html" . -}}
    <div class="layout__body">
      {{- partial "sidebar.html" . -}}
      <button class="sidebar__expand-btn" id="sidebarExpandBtn" type="button" aria-label="사이드바 열기">
        <svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true">
          <path d="M6 3l5 5-5 5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
      <div class="layout__content">
        <div class="layout__main">
          {{- partial "breadcrumb.html" . -}}
          {{- block "main" . }}{{ end -}}
          {{- partial "page-nav.html" . -}}
        </div>
        {{- partial "toc.html" . -}}
      </div>
    </div>
  </div>
  <!-- Ask Docs floating button -->
  <button class="ask-docs-btn" id="askDocsBtn" aria-label="Search documentation">
    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <path d="M12 3l1.912 5.813a2 2 0 001.275 1.275L21 12l-5.813 1.912a2 2 0 00-1.275 1.275L12 21l-1.912-5.813a2 2 0 00-1.275-1.275L3 12l5.813-1.912a2 2 0 001.275-1.275L12 3z"/>
    </svg>
    <span class="ask-docs-btn__text">Ask Docs</span>
  </button>
  {{- partial "search-modal.html" . -}}
  {{- partial "login-modal.html" . -}}

  {{ $sidebar := resources.Get "js/sidebar.js" | minify }}
  <script src="{{ $sidebar.RelPermalink }}"></script>
  {{ $themeToggle := resources.Get "js/theme-toggle.js" | minify }}
  <script src="{{ $themeToggle.RelPermalink }}"></script>
  {{ $langSelector := resources.Get "js/language-selector.js" | minify }}
  <script src="{{ $langSelector.RelPermalink }}"></script>
  {{ $codeCopy := resources.Get "js/code-copy.js" | minify }}
  <script src="{{ $codeCopy.RelPermalink }}"></script>
  <script>
  (function() {
    var btn = document.getElementById('askDocsBtn');
    if (!btn) return;
    btn.addEventListener('click', function() {
      var modal = document.getElementById('searchModal');
      var input = document.getElementById('searchInput');
      if (modal) {
        modal.classList.add('is-open');
        document.body.style.overflow = 'hidden';
        if (input) input.focus();
      }
    });
  })();
  </script>
</body>
</html>
